<html><head><title>B:\Software\postActiv\classes\postActiv.php - postActiv</title><link rel="stylesheet" type="text/css" href="../../styles/main.css"><script language=JavaScript src="../../javascript/main.js"></script></head><body class="FramedContentPage" onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.4 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CFile"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="postActiv.php"></a>postActiv.php</h1><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#postActiv.php" >postActiv.php</a></td><td class=SDescription></td></tr><tr class="SSection"><td class=SEntry><a href="#postActiv" >postActiv</a></td><td class=SDescription>Core class for abstracting the postActiv software</td></tr><tr class="SClass"><td class=SEntry><a href="#postActiv" >postActiv</a></td><td class=SDescription>Superclass to handle global configuration setup and management, as well as bootstrapping various features.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#postActiv.addPlugin" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">addPlugin</a></td><td class=SDescription>Configure and instantiate a plugin into the current configuration. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#postActiv.delPlugin" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">delPlugin</a></td><td class=SDescription>Unload a plugin</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#postActiv.getActivePlugins" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">getActivePlugins</a></td><td class=SDescription>Get a list of activated plugins in this process.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#postActiv.init" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">init</a></td><td class=SDescription>Initialize, or re-initialize, postActiv global configuration and plugins.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#postActiv.currentSite" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">currentSite</a></td><td class=SDescription>Get identifier of the currently active site configuration</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#postActiv.switchSite" id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">switchSite</a></td><td class=SDescription>Change site configuration to site specified by nickname,  if set up via Status_network. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#postActiv.findAllSites" id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">findAllSites</a></td><td class=SDescription>Pull all local sites from status_network table.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#postActiv.initPlugins" id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">initPlugins</a></td><td class=SDescription>Fire initialization events for all instantiated plugins.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#postActiv.haveConfig" id=link9 onMouseOver="ShowTip(event, 'tt9', 'link9')" onMouseOut="HideTip('tt9')">haveConfig</a></td><td class=SDescription>Quick-check if configuration has been established. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#postActiv.configFiles" id=link10 onMouseOver="ShowTip(event, 'tt10', 'link10')" onMouseOut="HideTip('tt10')">configFiles</a></td><td class=SDescription>Returns a list of configuration files that have been loaded for this instance of postActiv.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#postActiv.isApi" id=link11 onMouseOver="ShowTip(event, 'tt11', 'link11')" onMouseOut="HideTip('tt11')">isApi</a></td><td class=SDescription>Returns true/false if the page or endpoint being served up is an API page</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#postActiv.setApi" id=link12 onMouseOver="ShowTip(event, 'tt12', 'link12')" onMouseOut="HideTip('tt12')">setApi</a></td><td class=SDescription>Sets the API mode flag for this instantiation of postActiv</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#postActiv.isAjax" id=link13 onMouseOver="ShowTip(event, 'tt13', 'link13')" onMouseOut="HideTip('tt13')">isAjax</a></td><td class=SDescription>Returns true/false whether the page or endpoint being served up is an AJAX document.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#postActiv.setAjax" id=link14 onMouseOver="ShowTip(event, 'tt14', 'link14')" onMouseOut="HideTip('tt14')">setAjax</a></td><td class=SDescription>Sets the Ajax mode flag for this instantiation of postActiv</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#postActiv.defaultConfig" id=link15 onMouseOver="ShowTip(event, 'tt15', 'link15')" onMouseOut="HideTip('tt15')">defaultConfig</a></td><td class=SDescription>Build default configuration array</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#postActiv.initDefaults" id=link16 onMouseOver="ShowTip(event, 'tt16', 'link16')" onMouseOut="HideTip('tt16')">initDefaults</a></td><td class=SDescription>Establish default configuration based on given or default server and path. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#postActiv.loadSiteProfile" id=link17 onMouseOver="ShowTip(event, 'tt17', 'link17')" onMouseOut="HideTip('tt17')">loadSiteProfile</a></td><td class=SDescription>Bootstrap loading the site settings for a given profile (community, private)</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#postActiv._sn_to_path" id=link18 onMouseOver="ShowTip(event, 'tt18', 'link18')" onMouseOut="HideTip('tt18')">_sn_to_path</a></td><td class=SDescription>Helper function to get the path the application is running in.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#postActiv.loadConfigFile" id=link19 onMouseOver="ShowTip(event, 'tt19', 'link19')" onMouseOut="HideTip('tt19')">loadConfigFile</a></td><td class=SDescription>Load the default or specified configuration file. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#postActiv.fillConfigVoids" id=link20 onMouseOver="ShowTip(event, 'tt20', 'link20')" onMouseOut="HideTip('tt20')">fillConfigVoids</a></td><td class=SDescription>Fill in some defaults if they are not specified.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#postActiv.verifyLoadedConfig" id=link21 onMouseOver="ShowTip(event, 'tt21', 'link21')" onMouseOut="HideTip('tt21')">verifyLoadedConfig</a></td><td class=SDescription>Verify that the loaded config is good. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#postActiv.isHTTPS" id=link22 onMouseOver="ShowTip(event, 'tt22', 'link22')" onMouseOut="HideTip('tt22')">isHTTPS</a></td><td class=SDescription>Are we running from the web with HTTPS?</td></tr><tr class="SClass"><td class=SEntry><a href="#NoConfigException" >NoConfigException</a></td><td class=SDescription>Subclass of PHP class that reports configuration errors</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#NoConfigException.__construct" id=link23 onMouseOver="ShowTip(event, 'tt23', 'link23')" onMouseOut="HideTip('tt23')">__construct</a></td><td class=SDescription>Construct the exception with configfiles that were misconfigured.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CSection"><div class=CTopic><h2 class=CTitle><a name="postActiv"></a>postActiv</h2><div class=CBody><p>Core class for abstracting the postActiv software</p><h4 class=CHeading>postActiv</h4><p>the micro-blogging software</p><h4 class=CHeading>Copyright</h4><p>Copyright &copy; 2016-2017, Maiyannah Bishop</p><h4 class=CHeading>Derived from code copyright various sources</h4><ul><li>GNU Social &copy; 2013-2016, Free Software Foundation, Inc</li><li>StatusNet &copy; 2008-2012, StatusNet, Inc</li></ul><h4 class=CHeading>License</h4><p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.&nbsp;  See the GNU Affero General Public License for more details.</p><p>You should have received a copy of the GNU Affero General Public License along with this program.&nbsp;  If not, see <a href="http://www.gnu.org/licenses/" class=LURL target=_top>http://www.gnu.org/licenses/</a>.</p><p><a href="https://www.gnu.org/licenses/agpl.html" class=LURL target=_top>https://www.gnu.org/licenses/agpl.html</a></p><h4 class=CHeading>About</h4><p>Core class for abstracting the postActiv software</p><p>Renamed from &lsquo;GNUsocial&rsquo; to avoid trademark/IP problems.</p><h4 class=CHeading>PHP version</h4><p>Tested with PHP 7</p><h4 class=CHeading>File Authors</h4><ul><li>Zach Copley</li><li>Brion Vibber <a href="#" onClick="location.href='mai' + 'lto:' + 'br' + 'ion' + '@' + 'pobo' + 'x.com'; return false;" class=LEMail>br<span style="display: none">.nosp@m.</span>ion<span>@</span>pobo<span style="display: none">.nosp@m.</span>x.com</a></li><li>James Walker <a href="#" onClick="location.href='mai' + 'lto:' + 'wal' + 'kah' + '@' + 'walka' + 'h.net'; return false;" class=LEMail>wal<span style="display: none">.nosp@m.</span>kah<span>@</span>walka<span style="display: none">.nosp@m.</span>h.net</a></li><li>Evan Prodromou</li><li>Siebrand Mazeland <a href="#" onClick="location.href='mai' + 'lto:' + 's.maz' + 'eland' + '@' + 'xs4a' + 'll.nl'; return false;" class=LEMail>s.maz<span style="display: none">.nosp@m.</span>eland<span>@</span>xs4a<span style="display: none">.nosp@m.</span>ll.nl</a></li><li>Mikael Nordfeldth <a href="#" onClick="location.href='mai' + 'lto:' + 'm' + 'mn' + '@' + 'hetha' + 'ne.se'; return false;" class=LEMail>m<span style="display: none">.nosp@m.</span>mn<span>@</span>hetha<span style="display: none">.nosp@m.</span>ne.se</a></li><li>Chimo <a href="#" onClick="location.href='mai' + 'lto:' + 'ch' + 'imo' + '@' + 'chrom' + 'ic.org'; return false;" class=LEMail>ch<span style="display: none">.nosp@m.</span>imo<span>@</span>chrom<span style="display: none">.nosp@m.</span>ic.org</a></li><li>Maiyannah Bishop <a href="#" onClick="location.href='mai' + 'lto:' + 'maiyanna' + 'h.bishop' + '@' + 'postac' + 'tiv.com'; return false;" class=LEMail>maiyanna<span style="display: none">.nosp@m.</span>h.bishop<span>@</span>postac<span style="display: none">.nosp@m.</span>tiv.com</a></li></ul><h4 class=CHeading>Web</h4><ul><li>postActiv  <a href="http://www.postactiv.com" class=LURL target=_top>http://www.postactiv.com</a></li><li>GNU social <a href="https://www.gnu.org/s/social/" class=LURL target=_top>https://www.gnu.org/s/social/</a></li></ul></div></div></div>

<div class="CClass"><div class=CTopic><h2 class=CTitle><a name="postActiv"></a>postActiv</h2><div class=CBody><p>Superclass to handle global configuration setup and management, as well as bootstrapping various features.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SFunction"><td class=SEntry><a href="#postActiv.addPlugin" id=link24 onMouseOver="ShowTip(event, 'tt1', 'link24')" onMouseOut="HideTip('tt1')">addPlugin</a></td><td class=SDescription>Configure and instantiate a plugin into the current configuration. </td></tr><tr class="SFunction SMarked"><td class=SEntry><a href="#postActiv.delPlugin" id=link25 onMouseOver="ShowTip(event, 'tt2', 'link25')" onMouseOut="HideTip('tt2')">delPlugin</a></td><td class=SDescription>Unload a plugin</td></tr><tr class="SFunction"><td class=SEntry><a href="#postActiv.getActivePlugins" id=link26 onMouseOver="ShowTip(event, 'tt3', 'link26')" onMouseOut="HideTip('tt3')">getActivePlugins</a></td><td class=SDescription>Get a list of activated plugins in this process.</td></tr><tr class="SFunction SMarked"><td class=SEntry><a href="#postActiv.init" id=link27 onMouseOver="ShowTip(event, 'tt4', 'link27')" onMouseOut="HideTip('tt4')">init</a></td><td class=SDescription>Initialize, or re-initialize, postActiv global configuration and plugins.</td></tr><tr class="SFunction"><td class=SEntry><a href="#postActiv.currentSite" id=link28 onMouseOver="ShowTip(event, 'tt5', 'link28')" onMouseOut="HideTip('tt5')">currentSite</a></td><td class=SDescription>Get identifier of the currently active site configuration</td></tr><tr class="SFunction SMarked"><td class=SEntry><a href="#postActiv.switchSite" id=link29 onMouseOver="ShowTip(event, 'tt6', 'link29')" onMouseOut="HideTip('tt6')">switchSite</a></td><td class=SDescription>Change site configuration to site specified by nickname,  if set up via Status_network. </td></tr><tr class="SFunction"><td class=SEntry><a href="#postActiv.findAllSites" id=link30 onMouseOver="ShowTip(event, 'tt7', 'link30')" onMouseOut="HideTip('tt7')">findAllSites</a></td><td class=SDescription>Pull all local sites from status_network table.</td></tr><tr class="SFunction SMarked"><td class=SEntry><a href="#postActiv.initPlugins" id=link31 onMouseOver="ShowTip(event, 'tt8', 'link31')" onMouseOut="HideTip('tt8')">initPlugins</a></td><td class=SDescription>Fire initialization events for all instantiated plugins.</td></tr><tr class="SFunction"><td class=SEntry><a href="#postActiv.haveConfig" id=link32 onMouseOver="ShowTip(event, 'tt9', 'link32')" onMouseOut="HideTip('tt9')">haveConfig</a></td><td class=SDescription>Quick-check if configuration has been established. </td></tr><tr class="SFunction SMarked"><td class=SEntry><a href="#postActiv.configFiles" id=link33 onMouseOver="ShowTip(event, 'tt10', 'link33')" onMouseOut="HideTip('tt10')">configFiles</a></td><td class=SDescription>Returns a list of configuration files that have been loaded for this instance of postActiv.</td></tr><tr class="SFunction"><td class=SEntry><a href="#postActiv.isApi" id=link34 onMouseOver="ShowTip(event, 'tt11', 'link34')" onMouseOut="HideTip('tt11')">isApi</a></td><td class=SDescription>Returns true/false if the page or endpoint being served up is an API page</td></tr><tr class="SFunction SMarked"><td class=SEntry><a href="#postActiv.setApi" id=link35 onMouseOver="ShowTip(event, 'tt12', 'link35')" onMouseOut="HideTip('tt12')">setApi</a></td><td class=SDescription>Sets the API mode flag for this instantiation of postActiv</td></tr><tr class="SFunction"><td class=SEntry><a href="#postActiv.isAjax" id=link36 onMouseOver="ShowTip(event, 'tt13', 'link36')" onMouseOut="HideTip('tt13')">isAjax</a></td><td class=SDescription>Returns true/false whether the page or endpoint being served up is an AJAX document.</td></tr><tr class="SFunction SMarked"><td class=SEntry><a href="#postActiv.setAjax" id=link37 onMouseOver="ShowTip(event, 'tt14', 'link37')" onMouseOut="HideTip('tt14')">setAjax</a></td><td class=SDescription>Sets the Ajax mode flag for this instantiation of postActiv</td></tr><tr class="SFunction"><td class=SEntry><a href="#postActiv.defaultConfig" id=link38 onMouseOver="ShowTip(event, 'tt15', 'link38')" onMouseOut="HideTip('tt15')">defaultConfig</a></td><td class=SDescription>Build default configuration array</td></tr><tr class="SFunction SMarked"><td class=SEntry><a href="#postActiv.initDefaults" id=link39 onMouseOver="ShowTip(event, 'tt16', 'link39')" onMouseOut="HideTip('tt16')">initDefaults</a></td><td class=SDescription>Establish default configuration based on given or default server and path. </td></tr><tr class="SFunction"><td class=SEntry><a href="#postActiv.loadSiteProfile" id=link40 onMouseOver="ShowTip(event, 'tt17', 'link40')" onMouseOut="HideTip('tt17')">loadSiteProfile</a></td><td class=SDescription>Bootstrap loading the site settings for a given profile (community, private)</td></tr><tr class="SFunction SMarked"><td class=SEntry><a href="#postActiv._sn_to_path" id=link41 onMouseOver="ShowTip(event, 'tt18', 'link41')" onMouseOut="HideTip('tt18')">_sn_to_path</a></td><td class=SDescription>Helper function to get the path the application is running in.</td></tr><tr class="SFunction"><td class=SEntry><a href="#postActiv.loadConfigFile" id=link42 onMouseOver="ShowTip(event, 'tt19', 'link42')" onMouseOut="HideTip('tt19')">loadConfigFile</a></td><td class=SDescription>Load the default or specified configuration file. </td></tr><tr class="SFunction SMarked"><td class=SEntry><a href="#postActiv.fillConfigVoids" id=link43 onMouseOver="ShowTip(event, 'tt20', 'link43')" onMouseOut="HideTip('tt20')">fillConfigVoids</a></td><td class=SDescription>Fill in some defaults if they are not specified.</td></tr><tr class="SFunction"><td class=SEntry><a href="#postActiv.verifyLoadedConfig" id=link44 onMouseOver="ShowTip(event, 'tt21', 'link44')" onMouseOut="HideTip('tt21')">verifyLoadedConfig</a></td><td class=SDescription>Verify that the loaded config is good. </td></tr><tr class="SFunction SMarked"><td class=SEntry><a href="#postActiv.isHTTPS" id=link45 onMouseOver="ShowTip(event, 'tt22', 'link45')" onMouseOut="HideTip('tt22')">isHTTPS</a></td><td class=SDescription>Are we running from the web with HTTPS?</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.addPlugin"></a>addPlugin</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function addPlugin(</td><td class=PType nowrap>&nbsp;</td><td class=PParameter nowrap>$name,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PType nowrap>array&nbsp;</td><td class=PParameter nowrap>$attrs</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%>array()</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Configure and instantiate a plugin into the current configuration.&nbsp; Class definitions will be loaded from standard paths if necessary.&nbsp; Note that initialization events won&rsquo;t be fired until later.</p><h4 class=CHeading>Parameters</h4><ul><li>string $name class name &amp; plugin file/subdir name</li><li>array $attrs key/value pairs of public attributes to set on plugin instance</li></ul><h4 class=CHeading>Error States</h4><ul><li>throws ServerException if plugin can&rsquo;t be found</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.delPlugin"></a>delPlugin</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function delPlugin(</td><td class=PParameter nowrap>$name</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Unload a plugin</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.getActivePlugins"></a>getActivePlugins</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function getActivePlugins()</td></tr></table></blockquote><p>Get a list of activated plugins in this process.</p><h4 class=CHeading>Returns</h4><ul><li>array of (string $name, array $args) pairs</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.init"></a>init</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function init(</td><td class=PParameter nowrap>$server</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%>null,</td></tr><tr><td></td><td class=PParameter nowrap>$path</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%>null,</td></tr><tr><td></td><td class=PParameter nowrap>$conffile</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%>null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Initialize, or re-initialize, postActiv global configuration and plugins.</p><p>If switching site configurations during script execution, be careful when working with leftover objects -- global settings affect many things and they may not behave as you expected.</p><h4 class=CHeading>Parameters</h4><ul><li>server   - optional web server hostname for picking config</li><li>path     - optional URL path for picking config</li><li>conffile - optional configuration file path</li></ul><h4 class=CHeading>Error States</h4><ul><li>throws NoConfigException if config file can&rsquo;t be found</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.currentSite"></a>currentSite</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function currentSite()</td></tr></table></blockquote><p>Get identifier of the currently active site configuration</p><h4 class=CHeading>Returns</h4><ul><li>string</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.switchSite"></a>switchSite</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function switchSite(</td><td class=PParameter nowrap>$nickname</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Change site configuration to site specified by nickname,  if set up via Status_network.&nbsp; If not, sites other than the current will fail horribly.</p><p>May throw exception or trigger a fatal error if the given site is missing or configured incorrectly.</p><h4 class=CHeading>Parameters</h4><ul><li>string $nickname</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.findAllSites"></a>findAllSites</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function findAllSites()</td></tr></table></blockquote><p>Pull all local sites from status_network table.</p><p>Behavior undefined if site is not configured via Status_network.</p><h4 class=CHeading>Returns</h4><ul><li>array of nicknames</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.initPlugins"></a>initPlugins</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>protected static function initPlugins()</td></tr></table></blockquote><p>Fire initialization events for all instantiated plugins.</p><p>User config may have already added some of these plugins, with maybe configured parameters.&nbsp; The self::addPlugin function will ignore the new call if it has already been instantiated.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.haveConfig"></a>haveConfig</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function haveConfig()</td></tr></table></blockquote><p>Quick-check if configuration has been established.&nbsp; Useful for functions which may get used partway through initialization to back off from fancier things.</p><h4 class=CHeading>Returns</h4><ul><li>boolean</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.configFiles"></a>configFiles</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function configFiles()</td></tr></table></blockquote><p>Returns a list of configuration files that have been loaded for this instance of postActiv.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.isApi"></a>isApi</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function isApi()</td></tr></table></blockquote><p>Returns true/false if the page or endpoint being served up is an API page</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.setApi"></a>setApi</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function setApi(</td><td class=PParameter nowrap>$mode</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Sets the API mode flag for this instantiation of postActiv</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.isAjax"></a>isAjax</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function isAjax()</td></tr></table></blockquote><p>Returns true/false whether the page or endpoint being served up is an AJAX document.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.setAjax"></a>setAjax</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function setAjax(</td><td class=PParameter nowrap>$mode</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Sets the Ajax mode flag for this instantiation of postActiv</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.defaultConfig"></a>defaultConfig</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>protected static function defaultConfig()</td></tr></table></blockquote><p>Build default configuration array</p><h4 class=CHeading>Returns</h4><ul><li>array</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.initDefaults"></a>initDefaults</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function initDefaults(</td><td class=PParameter nowrap>$server,</td></tr><tr><td></td><td class=PParameter nowrap>$path</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Establish default configuration based on given or default server and path.&nbsp; Sets global $_server, $_path, and $config.,</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.loadSiteProfile"></a>loadSiteProfile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function loadSiteProfile(</td><td class=PParameter nowrap>$name</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Bootstrap loading the site settings for a given profile (community, private)</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv._sn_to_path"></a>_sn_to_path</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>protected static function _sn_to_path(</td><td class=PParameter nowrap>$sn</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Helper function to get the path the application is running in.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.loadConfigFile"></a>loadConfigFile</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>protected static function loadConfigFile(</td><td class=PParameter nowrap>$conffile</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%>null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Load the default or specified configuration file.&nbsp;  Modifies global $config and may establish plugins.</p><h4 class=CHeading>Parameters</h4><ul><li>conffile - string with a path to a specific configuration file</li></ul><h4 class=CHeading>Error States</h4><ul><li>throws NoConfigException if unable to find a config file.</li><li>throws ServerException if there is no database configuration specified.</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.fillConfigVoids"></a>fillConfigVoids</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>static function fillConfigVoids()</td></tr></table></blockquote><p>Fill in some defaults if they are not specified.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.verifyLoadedConfig"></a>verifyLoadedConfig</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>static function verifyLoadedConfig()</td></tr></table></blockquote><p>Verify that the loaded config is good.&nbsp; Not complete, but will throw exceptions on common configuration problems I hope.</p><p>Might make changes to the filesystem, to created dirs, but will not make database changes.</p><h4 class=CHeading>Error States</h4><ul><li>Throws ConfigException if the configuration doesn&rsquo;t check out.</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="postActiv.isHTTPS"></a>isHTTPS</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>static function isHTTPS()</td></tr></table></blockquote><p>Are we running from the web with HTTPS?</p><h4 class=CHeading>Returns</h4><ul><li>boolean true if we&rsquo;re running with HTTPS; else false</li></ul></div></div></div>

<div class="CClass"><div class=CTopic><h2 class=CTitle><a name="NoConfigException"></a>NoConfigException</h2><div class=CBody><p>Subclass of PHP class that reports configuration errors</p><h4 class=CHeading>Properties</h4><ul><li>configFiles - the config file or files that were misconfigured.</li></ul></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="NoConfigException.__construct"></a>__construct</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function __construct(</td><td class=PParameter nowrap>$msg,</td></tr><tr><td></td><td class=PParameter nowrap>$configFiles</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Construct the exception with configfiles that were misconfigured.</p></div></div></div>

</div><!--Content-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function addPlugin(</td><td class=PType nowrap>&nbsp;</td><td class=PParameter nowrap>$name,</td><td class=PDefaultValuePrefix>&nbsp;&nbsp;</td><td class=PDefaultValue width=100%></td></tr><tr><td></td><td class=PType nowrap>array&nbsp;</td><td class=PParameter nowrap>$attrs</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%>array()</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Configure and instantiate a plugin into the current configuration. </div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function delPlugin(</td><td class=PParameter nowrap>$name</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Unload a plugin</div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function getActivePlugins()</td></tr></table></blockquote>Get a list of activated plugins in this process.</div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function init(</td><td class=PParameter nowrap>$server</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%>null,</td></tr><tr><td></td><td class=PParameter nowrap>$path</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%>null,</td></tr><tr><td></td><td class=PParameter nowrap>$conffile</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%>null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Initialize, or re-initialize, postActiv global configuration and plugins.</div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function currentSite()</td></tr></table></blockquote>Get identifier of the currently active site configuration</div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function switchSite(</td><td class=PParameter nowrap>$nickname</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Change site configuration to site specified by nickname,  if set up via Status_network. </div></div><div class=CToolTip id="tt7"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function findAllSites()</td></tr></table></blockquote>Pull all local sites from status_network table.</div></div><div class=CToolTip id="tt8"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>protected static function initPlugins()</td></tr></table></blockquote>Fire initialization events for all instantiated plugins.</div></div><div class=CToolTip id="tt9"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function haveConfig()</td></tr></table></blockquote>Quick-check if configuration has been established. </div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function configFiles()</td></tr></table></blockquote>Returns a list of configuration files that have been loaded for this instance of postActiv.</div></div><div class=CToolTip id="tt11"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function isApi()</td></tr></table></blockquote>Returns true/false if the page or endpoint being served up is an API page</div></div><div class=CToolTip id="tt12"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function setApi(</td><td class=PParameter nowrap>$mode</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Sets the API mode flag for this instantiation of postActiv</div></div><div class=CToolTip id="tt13"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>public static function isAjax()</td></tr></table></blockquote>Returns true/false whether the page or endpoint being served up is an AJAX document.</div></div><div class=CToolTip id="tt14"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function setAjax(</td><td class=PParameter nowrap>$mode</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Sets the Ajax mode flag for this instantiation of postActiv</div></div><div class=CToolTip id="tt15"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>protected static function defaultConfig()</td></tr></table></blockquote>Build default configuration array</div></div><div class=CToolTip id="tt16"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function initDefaults(</td><td class=PParameter nowrap>$server,</td></tr><tr><td></td><td class=PParameter nowrap>$path</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Establish default configuration based on given or default server and path. </div></div><div class=CToolTip id="tt17"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>public static function loadSiteProfile(</td><td class=PParameter nowrap>$name</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Bootstrap loading the site settings for a given profile (community, private)</div></div><div class=CToolTip id="tt18"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>protected static function _sn_to_path(</td><td class=PParameter nowrap>$sn</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Helper function to get the path the application is running in.</div></div><div class=CToolTip id="tt19"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>protected static function loadConfigFile(</td><td class=PParameter nowrap>$conffile</td><td class=PDefaultValuePrefix>&nbsp;=&nbsp;</td><td class=PDefaultValue width=100%>null</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Load the default or specified configuration file. </div></div><div class=CToolTip id="tt20"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>static function fillConfigVoids()</td></tr></table></blockquote>Fill in some defaults if they are not specified.</div></div><div class=CToolTip id="tt21"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>static function verifyLoadedConfig()</td></tr></table></blockquote>Verify that the loaded config is good. </div></div><div class=CToolTip id="tt22"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>static function isHTTPS()</td></tr></table></blockquote>Are we running from the web with HTTPS?</div></div><div class=CToolTip id="tt23"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>function __construct(</td><td class=PParameter nowrap>$msg,</td></tr><tr><td></td><td class=PParameter nowrap>$configFiles</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Construct the exception with configfiles that were misconfigured.</div></div><!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>